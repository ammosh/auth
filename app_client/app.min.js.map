{"version":3,"sources":["app.min.js"],"names":["config","$routeProvider","$locationProvider","NotificationProvider","setOptions","delay","startTop","startRight","verticalSpacing","horizontalSpacing","positionX","positionY","when","templateUrl","controller","controllerAs","otherwise","redirectTo","html5Mode","run","$rootScope","$location","$timeout","authService","$on","event","nextRoute","currentRoute","console","log","path","isLoggedIn","angular","module","$","validator","setDefaults","highlight","element","closest","removeClass","addClass","unhighlight","errorClass","errorPlacement","error","parent","length","insertAfter","find","feedsCtrl","profileCtrl","$scope","$uibModal","notify","vm","this","user","_name","_email","_password","_confirm_password","validate","rules","email","required","maxlength","name","minlength","password","confirm_password","equalTo","loading","register","valid","then","response","success","message","data","title","statusText","modalInstance","open","animation","backdrop","keyboard","size","resolve","info","_title","_message","_confirm_label","result","err","$inject","dialogCtrl","$uibModalInstance","close","homeCtrl","$http","$window","$localStorage","post","login","saveToken","token","fitforlife_token","getToken","payload","split","atob","JSON","parse","exp","Date","now","currentUser","logout","service","loginCtrl","registerCtrl","navigationCtrl","checkLogin","navigation","restrict","directive"],"mappings":"AAEA,QAASA,QAAOC,EAAgBC,EAAmBC,GACjDA,EAAqBC,YACnBC,MAAO,IACPC,SAAU,GACVC,WAAY,GACZC,gBAAiB,GACjBC,kBAAmB,GACnBC,UAAW,QACXC,UAAW,WAGbV,EACGW,KAAK,aACJC,YAAa,iCACbC,WAAY,eACZC,aAAc,OACbH,KAAK,UACNC,YAAa,8BACbC,WAAY,YACZC,aAAc,OACbH,KAAK,SACNC,YAAa,6BACbC,WAAY,WACZC,aAAc,OACbH,KAAK,UACNC,YAAa,+BACbC,WAAY,YACZC,aAAc,OACbH,KAAK,YACNC,YAAa,mCACbC,WAAY,cACZC,aAAc,OAEfC,WACCC,WAAY,UAIhBf,EAAkBgB,WAAU,GAG9B,QAASC,KAAIC,EAAYC,EAAWC,EAAUC,GAC5CH,EAAWI,IAAI,oBAAqB,SAASC,EAAOC,EAAWC,GAC7DC,QAAQC,IAAI,gBAAkBR,EAAUS,QACpCP,EAAYQ,cAGW,UAApBV,EAAUS,QAA0C,aAApBT,EAAUS,QAA6C,KAApBT,EAAUS,QAChFT,EAAUS,KAAK,OAlDvBE,QAAQC,OAAO,cAAe,UAAW,YAAa,aAAc,UAAW,eAAgB,aAAc,gBAAiB,kBAAmB,cAwDjJD,QAAQC,OAAO,cAAcjC,QAAQ,iBAAkB,oBAAqB,uBAAwBA,SACjGmB,KAAK,aAAc,YAAa,WAAY,cAAeA,MAK9De,EAAEC,UAAUC,aACVC,UAAW,SAASC,GAClBJ,EAAEI,GAASC,QAAQ,eAAeC,YAAY,eAAeC,SAAS,cAGxEC,YAAa,SAASJ,GACpBJ,EAAEI,GAASC,QAAQ,eAAeC,YAAY,aAAaC,SAAS,gBAGtEE,WAAY,QACZC,eAAgB,SAASC,EAAOP,GAC1BA,EAAQQ,OAAO,gBAAgBC,OACjCF,EAAMG,YAAYV,EAAQQ,UAE1BD,EAAMG,YAAYd,EAAEI,GAASQ,SAASG,KAAK,8BAmEjD,WAKE,QAASC,MAJTlB,QACGC,OAAO,cACPnB,WAAW,YAAaoC,MAO7B,WAOE,QAASC,GAAYC,EAAQ/B,EAAWgC,EAAW9B,EAAa+B,GAC9D,GAAIC,GAAKC,IACTD,GAAGE,MACDC,MAAO,GACPC,OAAQ,GACRC,UAAW,GACXC,kBAAmB,IAIrB3B,EAAE,iBAAiB4B,UACjBC,OACEC,OACEC,UAAU,EACVD,OAAO,EACPE,UAAW,KAEbC,MACEF,UAAU,EACVG,UAAW,EACXF,UAAW,IAGbG,UACEJ,UAAU,EACVG,UAAW,EACXF,UAAW,IAEbI,kBACEL,UAAU,EACVG,UAAW,EACXF,UAAW,GACXK,QAAS,gBAMfhB,EAAGiB,SAAU,EACbjB,EAAGkB,SAAW,WACPvC,EAAE,iBAAiBwC,UACxBnB,EAAGiB,SAAU,EACbjD,EAAYkD,SAASlB,EAAGE,MACrBkB,KAAK,SAASC,GACbhD,QAAQC,IAAI+C,GACZtB,EAAOuB,SACLC,QAASF,EAASG,KAAKD,QACvBE,MAAOJ,EAASK,YAGlB,IAAIC,GAAgB7B,EAAU8B,MAC5BC,WAAW,EACXC,SAAU,SACVC,UAAU,EACVzE,YAAa,mCACbC,WAAY,oBACZyE,KAAM,KACNC,SACEC,KAAM,WACJ,OACEC,OAAQ,aACRC,SAAU,2DACVC,eAAiB,mBAKzBV,GAAcW,OAAOlB,KAAK,SAASI,GACjC1D,EAAUS,KAAK,UACd,gBA3BPP,SA8BW,SAASuE,GAChBlE,QAAQC,IAAIiE,GACZxC,EAAOT,OACLiC,QAASgB,EAAIf,KAAKD,QAClBE,MAAOc,EAAIb,eAlCjB1D,WAoCa,WACTgC,EAAGiB,SAAU,MArFrBxC,QACGC,OAAO,cACPnB,WAAW,cAAeqC,GAE7BA,EAAY4C,SAAW,SAAU,YAAa,YAAa,cAAe,mBAuF5E,WAOE,QAASC,GAAW3C,EAAW4C,EAAmBR,GAChD7D,QAAQC,IAAI4D,EACZ,IAAIlC,GAAKC,IACTD,GAAGkC,KAAOA,EAAOA,KACjBlC,EAAG2C,MAAQ,SAASnB,GAClBkB,EAAkBC,MAAMnB,IAX5B/C,QACGC,OAAO,cACPnB,WAAW,aAAckF,GAE5BA,EAAWD,SAAW,YAAa,oBAAqB,WAY1D,WAKE,QAASI,MAJTnE,QACGC,OAAO,cACPnB,WAAW,WAAYqF,MAO5B,WAQE,QAAS5E,GAAY6E,EAAOC,EAASC,GAEnC,GAAI7B,GAAW,SAAShB,GACtB,MAAO2C,GAAMG,KAAK,gBAAiB9C,IAGjC+C,EAAQ,SAAS/C,GACnB,MAAO2C,GAAMG,KAAK,aAAc9C,IAG9BgD,EAAY,SAASC,GACvBJ,EAAcK,iBAAmBD,GAG/BE,EAAW,WACb,MAAON,GAAcK,kBAGnB5E,EAAa,WACf,GACI8E,GADAH,EAAQE,GAEZ,SAAIF,IACFG,EAAUH,EAAMI,MAAM,KAAK,GAC3BD,EAAUR,EAAQU,KAAKF,GACvBA,EAAUG,KAAKC,MAAMJ,GACdA,EAAQK,IAAMC,KAAKC,MAAQ,MAMlCC,EAAc,WAChB,GAAItF,IAAc,CAChB,GAAI2E,GAAQE,IACRC,EAAUH,EAAMI,MAAM,KAAK,EAG/B,OAFAD,GAAUR,EAAQU,KAAKF,GACvBA,EAAUG,KAAKC,MAAMJ,IAEnBlD,OAAQkD,EAAQlD,OAChBD,MAAOmD,EAAQnD,QAUrB,OALA4D,QAAS,WACPhB,EAAcK,iBAAmB,OAKjClC,SAAUA,EACV+B,MAAOA,EACPC,UAAWA,EACXG,SAAUA,EACV7E,WAAYA,EACZsF,YAAaA,EACbC,OAAQA,QA9DZtF,QACGC,OAAO,cACPsF,QAAQ,cAAehG,GAE1BA,EAAYwE,SAAW,QAAS,UAAW,oBA+D7C,WAOE,QAASyB,GAAUpE,EAAQ/B,EAAWiF,EAAehF,EAAUC,EAAa+B,GAC1E,GAAIC,GAAKC,IACTD,GAAGE,MACDE,OAAQ,GACRC,UAAW,IAIb1B,EAAE,UAAU4B,UACVC,OACEC,OACEC,UAAU,EACVD,OAAO,EACPE,UAAW,KAEbG,UACEJ,UAAU,EACVG,UAAW,EACXF,UAAW,OAMjBX,EAAGiB,SAAU,EACbjB,EAAGiD,MAAQ,WACJtE,EAAE,UAAUwC,UACjBnB,EAAGiB,SAAU,EACbjD,EAAYiF,MAAMjD,EAAGE,MAClBkB,KAAK,SAASC,GACbtB,EAAOuB,SACLC,QAASF,EAASG,KAAKD,QACvBE,MAAOJ,EAASK,aAElB1D,EAAYkF,UAAU7B,EAASG,KAAK2B,OACpCpF,EAAS,WACPD,EAAUS,KAAK,SACd,OATPP,SAUW,SAASuE,GAChBxC,EAAOT,OACLiC,QAASgB,EAAIf,KAAKD,QAClBE,MAAOc,EAAIb,eAbjB1D,WAea,WACTgC,EAAGiB,SAAU,MAlDrBxC,QACGC,OAAO,cACPnB,WAAW,YAAa0G,GAE3BA,EAAUzB,SAAW,SAAU,YAAa,gBAAiB,WAAY,cAAe,mBAoD1F,WAOE,QAAS0B,GAAarE,EAAQ/B,EAAWgC,EAAW9B,EAAa+B,GAC/D,GAAIC,GAAKC,IACTD,GAAGE,MACDC,MAAO,GACPC,OAAQ,GACRC,UAAW,GACXC,kBAAmB,IAIrB3B,EAAE,iBAAiB4B,UACjBC,OACEC,OACEC,UAAU,EACVD,OAAO,EACPE,UAAW,KAEbC,MACEF,UAAU,EACVG,UAAW,EACXF,UAAW,IAGbG,UACEJ,UAAU,EACVG,UAAW,EACXF,UAAW,IAEbI,kBACEL,UAAU,EACVG,UAAW,EACXF,UAAW,GACXK,QAAS,gBAMfhB,EAAGiB,SAAU,EACbjB,EAAGkB,SAAW,WACPvC,EAAE,iBAAiBwC,UACxBnB,EAAGiB,SAAU,EACbjD,EAAYkD,SAASlB,EAAGE,MACrBkB,KAAK,SAASC,GACbhD,QAAQC,IAAI+C,GACZtB,EAAOuB,SACLC,QAASF,EAASG,KAAKD,QACvBE,MAAOJ,EAASK,YAGlB,IAAIC,GAAgB7B,EAAU8B,MAC5BC,WAAW,EACXC,SAAU,SACVC,UAAU,EACVzE,YAAa,mCACbC,WAAY,oBACZyE,KAAM,KACNC,SACEC,KAAM,WACJ,OACEC,OAAQ,aACRC,SAAU,2DACVC,eAAiB,mBAKzBV,GAAcW,OAAOlB,KAAK,SAASI,GACjC1D,EAAUS,KAAK,UACd,gBA3BPP,SA8BW,SAASuE,GAChBlE,QAAQC,IAAIiE,GACZxC,EAAOT,OACLiC,QAASgB,EAAIf,KAAKD,QAClBE,MAAOc,EAAIb,eAlCjB1D,WAoCa,WACTgC,EAAGiB,SAAU,MArFrBxC,QACGC,OAAO,cACPnB,WAAW,eAAgB2G,GAE9BA,EAAa1B,SAAW,SAAU,YAAa,YAAa,cAAe,mBAuF7E,WAQE,QAAS2B,GAAerG,EAAWE,GACjC,GAAIgC,GAAKC,IAETD,GAAGoE,WAAa,WACd,MAAOpG,GAAYQ,cAErBwB,EAAG+D,OAAS,WACV/F,EAAY+F,SACZjG,EAAUS,KAAK,UAEjByB,EAAG8D,YAAc9F,EAAY8F,cAhB/BrF,QACGC,OAAO,cACPnB,WAAW,iBAAkB4G,GAEhCA,EAAe3B,SAAW,YAAa,kBAiBzC,WAKE,QAAS6B,KACP,OACEC,SAAU,KACVhH,YAAa,8CACbC,WAAY,2BARhBkB,QACGC,OAAO,cACP6F,UAAU,aAAcF","file":"app.min.js","sourcesContent":["angular.module('fitforlife', ['ngRoute', 'ngAnimate', 'ngSanitize', 'ngTouch', 'ui.bootstrap', 'ngMessages', 'angular-ladda', 'ui-notification', 'ngStorage']);\r\n\r\nfunction config($routeProvider, $locationProvider, NotificationProvider) {\r\n  NotificationProvider.setOptions({\r\n    delay: 2000,\r\n    startTop: 20,\r\n    startRight: 10,\r\n    verticalSpacing: 20,\r\n    horizontalSpacing: 20,\r\n    positionX: 'right',\r\n    positionY: 'bottom'\r\n  });\r\n\r\n  $routeProvider\r\n    .when('/register', {\r\n      templateUrl: 'views/_auth/register.view.html',\r\n      controller: 'registerCtrl',\r\n      controllerAs: 'vm'\r\n    }).when('/login', {\r\n      templateUrl: 'views/_auth/login.view.html',\r\n      controller: 'loginCtrl',\r\n      controllerAs: 'vm'\r\n    }).when('/home', {\r\n      templateUrl: 'views/_home/home.view.html',\r\n      controller: 'homeCtrl',\r\n      controllerAs: 'vm'\r\n    }).when('/feeds', {\r\n      templateUrl: 'views/_feeds/feeds.view.html',\r\n      controller: 'feedsCtrl',\r\n      controllerAs: 'vm'\r\n    }).when('/profile', {\r\n      templateUrl: 'views/_profile/profile.view.html',\r\n      controller: 'profileCtrl',\r\n      controllerAs: 'vm'\r\n    })\r\n    .otherwise({\r\n      redirectTo: '/home'\r\n    });\r\n\r\n  // use the HTML5 History API\r\n  $locationProvider.html5Mode(true);\r\n}\r\n\r\nfunction run($rootScope, $location, $timeout, authService) {\r\n  $rootScope.$on('$routeChangeStart', function(event, nextRoute, currentRoute) {\r\n    console.log(\"redirect to: \" + $location.path());\r\n    if (authService.isLoggedIn()) { // check if user is logged in\r\n      // user is logged in\r\n    } else {\r\n      if (($location.path() != '/login' && $location.path() != '/register' && $location.path() != '/')) {\r\n        $location.path('/');\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nangular.module('fitforlife').config(['$routeProvider', '$locationProvider', 'NotificationProvider', config])\r\n  .run(['$rootScope', '$location', '$timeout', 'authService', run]);\r\n\r\n\r\n\r\n\r\n$.validator.setDefaults({\r\n  highlight: function(element) {\r\n    $(element).closest('.form-group').removeClass('has-success').addClass('has-error')\r\n    // $(element).parent().find('.form-control-feedback').removeClass('fa-check').addClass('fa-remove');\r\n  },\r\n  unhighlight: function(element) {\r\n    $(element).closest('.form-group').removeClass('has-error').addClass('has-success');\r\n    // $(element).parent().find('.form-control-feedback').removeClass('fa-remove').addClass('fa-check');\r\n  },\r\n  errorClass: 'error',\r\n  errorPlacement: function(error, element) {\r\n    if (element.parent('.input-group').length) {\r\n      error.insertAfter(element.parent());\r\n    } else {\r\n      error.insertAfter($(element).parent().find('.form-control-feedback'));\r\n    }\r\n  }\r\n});\r\n\n// /* common sessionStorage */\n// angular.module('fitforlife').factory('$sessionStorage', ['$window', function($window) {\n//   return {\n//     set: function(key, value) {\n//       $window.sessionStorage[key] = value;\n//     },\n//     get: function(key) {\n//       return $window.sessionStorage[key] || '';\n//     },\n//     setObject: function(key, value) {\n//       $window.sessionStorage[key] = JSON.stringify(value);\n//     },\n//     getObject: function(key) {\n//       if ($window.sessionStorage[key] != \"undefined\") {\n//         var value = $window.sessionStorage[key];\n//         if (value != undefined)\n//           return JSON.parse(value);\n//         else\n//           return {};\n//       }\n//       return {};\n//     },\n//     remove: function(key) {\n//       $window.sessionStorage.removeItem(key);\n//     },\n//     clear: function() {\n//       $window.sessionStorage.clear();\n//     }\n//   }\n// }]);\n\n// /* common localstorage */\n// angular.module('fitforlife').factory('$localstorage', ['$window', function($window) {\n//   return {\n//     set: function(key, value) {\n//       $window.localStorage[key] = value;\n//     },\n//     get: function(key) {\n//       return $window.localStorage[key] || '';\n//     },\n//     setObject: function(key, value) {\n//       $window.localStorage[key] = JSON.stringify(value);\n//     },\n//     getObject: function(key) {\n//       if ($window.localStorage[key] != \"undefined\") {\n//         var value = $window.localStorage[key];\n//         if (value != undefined)\n//           return JSON.parse(value);\n//         else\n//           return {};\n//       }\n//       return {};\n//     },\n//     remove: function(key) {\n//       $window.localStorage.removeItem(key);\n//     },\n//     clear: function() {\n//       $window.localStorage.clear();\n//     }\n//   }\n// }]);\n\n(function() {\r\n  angular\r\n    .module('fitforlife')\r\n    .controller('feedsCtrl', feedsCtrl);\r\n\r\n  function feedsCtrl() {\r\n\r\n  }\r\n})();\r\n\n(function() {\r\n  angular\r\n    .module('fitforlife')\r\n    .controller('profileCtrl', profileCtrl);\r\n\r\n  profileCtrl.$inject = ['$scope', '$location', '$uibModal', 'authService', 'Notification'];\r\n\r\n  function profileCtrl($scope, $location, $uibModal, authService, notify) {\r\n    var vm = this;\r\n    vm.user = {\r\n      _name: '',\r\n      _email: '',\r\n      _password: '',\r\n      _confirm_password: ''\r\n    }\r\n\r\n\r\n    $('#registration').validate({\r\n      rules: {\r\n        email: {\r\n          required: true,\r\n          email: true,\r\n          maxlength: 100\r\n        },\r\n        name: {\r\n          required: true,\r\n          minlength: 2,\r\n          maxlength: 40\r\n        },\r\n\r\n        password: {\r\n          required: true,\r\n          minlength: 8,\r\n          maxlength: 25\r\n        },\r\n        confirm_password: {\r\n          required: true,\r\n          minlength: 8,\r\n          maxlength: 25,\r\n          equalTo: \"#password\"\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    vm.loading = false;\r\n    vm.register = function() {\r\n      if (!$('#registration').valid()) return;\r\n      vm.loading = true;\r\n      authService.register(vm.user)\r\n        .then(function(response) {\r\n          console.log(response);\r\n          notify.success({\r\n            message: response.data.message,\r\n            title: response.statusText\r\n          });\r\n\r\n          var modalInstance = $uibModal.open({\r\n            animation: true,\r\n            backdrop: 'static',\r\n            keyboard: false,\r\n            templateUrl: '/views/_prompts/dialog.view.html',\r\n            controller: 'dialogCtrl as vmd',\r\n            size: 'sm',\r\n            resolve: {\r\n              info: function() {\r\n                return {\r\n                  _title: 'Awesome...',\r\n                  _message: 'You registered successfully. Please login to get access.',\r\n                  _confirm_label : \"Let's Start!\"\r\n                };\r\n              }\r\n            }\r\n          });\r\n          modalInstance.result.then(function(data) {\r\n            $location.path('login');\r\n          }, function() {\r\n\r\n          });\r\n        }).catch(function(err) {\r\n          console.log(err);\r\n          notify.error({\r\n            message: err.data.message,\r\n            title: err.statusText\r\n          });\r\n        }).finally(function() {\r\n          vm.loading = false;\r\n        });\r\n    }\r\n  }\r\n})();\r\n\n(function() {\r\n  angular\r\n    .module('fitforlife')\r\n    .controller('dialogCtrl', dialogCtrl);\r\n\r\n  dialogCtrl.$inject = ['$uibModal', '$uibModalInstance', 'info'];\r\n\r\n  function dialogCtrl($uibModal, $uibModalInstance, info) {\r\n    console.log(info);\r\n    var vm = this;\r\n    vm.info = info ? info : {};\r\n    vm.close = function(data) {\r\n      $uibModalInstance.close(data);\r\n    };\r\n  }\r\n})();\r\n\n(function() {\r\n  angular\r\n    .module('fitforlife')\r\n    .controller('homeCtrl', homeCtrl);\r\n\r\n  function homeCtrl() {\r\n\r\n  }\r\n})();\r\n\n(function() {\r\n\r\n  angular\r\n    .module('fitforlife')\r\n    .service('authService', authService);\r\n\r\n  authService.$inject = ['$http', '$window', '$localStorage'];\r\n\r\n  function authService($http, $window, $localStorage) {\r\n\r\n    var register = function(user) {\r\n      return $http.post('/api/register', user);\r\n    }\r\n\r\n    var login = function(user) {\r\n      return $http.post('/api/login', user);\r\n    }\r\n\r\n    var saveToken = function(token) {\r\n      $localStorage.fitforlife_token = token;\r\n    };\r\n\r\n    var getToken = function() {\r\n      return $localStorage.fitforlife_token;\r\n    };\r\n\r\n    var isLoggedIn = function() {\r\n      var token = getToken();\r\n      var payload;\r\n      if (token) {\r\n        payload = token.split('.')[1];\r\n        payload = $window.atob(payload);\r\n        payload = JSON.parse(payload);\r\n        return payload.exp > Date.now() / 1000;\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    var currentUser = function() {\r\n      if (isLoggedIn()) {\r\n        var token = getToken();\r\n        var payload = token.split('.')[1];\r\n        payload = $window.atob(payload);\r\n        payload = JSON.parse(payload);\r\n        return {\r\n          _email: payload._email,\r\n          _name: payload._name\r\n        };\r\n      }\r\n    };\r\n\r\n    logout = function() {\r\n      $localStorage.fitforlife_token = null;\r\n    };\r\n\r\n\r\n    return {\r\n      register: register,\r\n      login: login,\r\n      saveToken: saveToken,\r\n      getToken: getToken,\r\n      isLoggedIn: isLoggedIn,\r\n      currentUser: currentUser,\r\n      logout: logout\r\n    };\r\n  }\r\n})();\r\n\n(function() {\r\n  angular\r\n    .module('fitforlife')\r\n    .controller('loginCtrl', loginCtrl);\r\n\r\n  loginCtrl.$inject = ['$scope', '$location', '$localStorage', '$timeout', 'authService', 'Notification'];\r\n\r\n  function loginCtrl($scope, $location, $localStorage, $timeout, authService, notify) {\r\n    var vm = this;\r\n    vm.user = {\r\n      _email: '',\r\n      _password: '',\r\n    }\r\n\r\n\r\n    $('#login').validate({\r\n      rules: {\r\n        email: {\r\n          required: true,\r\n          email: true,\r\n          maxlength: 100\r\n        },\r\n        password: {\r\n          required: true,\r\n          minlength: 8,\r\n          maxlength: 25\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    vm.loading = false;\r\n    vm.login = function() {\r\n      if (!$('#login').valid()) return;\r\n      vm.loading = true;\r\n      authService.login(vm.user)\r\n        .then(function(response) {\r\n          notify.success({\r\n            message: response.data.message,\r\n            title: response.statusText\r\n          });\r\n          authService.saveToken(response.data.token);\r\n          $timeout(function() {\r\n            $location.path('feed');\r\n          }, 500);\r\n        }).catch(function(err) {\r\n          notify.error({\r\n            message: err.data.message,\r\n            title: err.statusText\r\n          });\r\n        }).finally(function() {\r\n          vm.loading = false;\r\n        });\r\n    }\r\n  }\r\n})();\r\n\n(function() {\r\n  angular\r\n    .module('fitforlife')\r\n    .controller('registerCtrl', registerCtrl);\r\n\r\n  registerCtrl.$inject = ['$scope', '$location', '$uibModal', 'authService', 'Notification'];\r\n\r\n  function registerCtrl($scope, $location, $uibModal, authService, notify) {\r\n    var vm = this;\r\n    vm.user = {\r\n      _name: '',\r\n      _email: '',\r\n      _password: '',\r\n      _confirm_password: ''\r\n    }\r\n\r\n\r\n    $('#registration').validate({\r\n      rules: {\r\n        email: {\r\n          required: true,\r\n          email: true,\r\n          maxlength: 100\r\n        },\r\n        name: {\r\n          required: true,\r\n          minlength: 2,\r\n          maxlength: 40\r\n        },\r\n\r\n        password: {\r\n          required: true,\r\n          minlength: 8,\r\n          maxlength: 25\r\n        },\r\n        confirm_password: {\r\n          required: true,\r\n          minlength: 8,\r\n          maxlength: 25,\r\n          equalTo: \"#password\"\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n    vm.loading = false;\r\n    vm.register = function() {\r\n      if (!$('#registration').valid()) return;\r\n      vm.loading = true;\r\n      authService.register(vm.user)\r\n        .then(function(response) {\r\n          console.log(response);\r\n          notify.success({\r\n            message: response.data.message,\r\n            title: response.statusText\r\n          });\r\n\r\n          var modalInstance = $uibModal.open({\r\n            animation: true,\r\n            backdrop: 'static',\r\n            keyboard: false,\r\n            templateUrl: '/views/_prompts/dialog.view.html',\r\n            controller: 'dialogCtrl as vmd',\r\n            size: 'sm',\r\n            resolve: {\r\n              info: function() {\r\n                return {\r\n                  _title: 'Awesome...',\r\n                  _message: 'You registered successfully. Please login to get access.',\r\n                  _confirm_label : \"Let's Start!\"\r\n                };\r\n              }\r\n            }\r\n          });\r\n          modalInstance.result.then(function(data) {\r\n            $location.path('login');\r\n          }, function() {\r\n\r\n          });\r\n        }).catch(function(err) {\r\n          console.log(err);\r\n          notify.error({\r\n            message: err.data.message,\r\n            title: err.statusText\r\n          });\r\n        }).finally(function() {\r\n          vm.loading = false;\r\n        });\r\n    }\r\n  }\r\n})();\r\n\n(function() {\n\n  angular\n    .module('fitforlife')\n    .controller('navigationCtrl', navigationCtrl);\n\n  navigationCtrl.$inject = ['$location', 'authService'];\n\n  function navigationCtrl($location, authService) {\n    var vm = this;\n\n    vm.checkLogin = function() {\n      return authService.isLoggedIn()\n    };\n    vm.logout = function() {\n      authService.logout();\n      $location.path('login');\n    }\n    vm.currentUser = authService.currentUser();\n  }\n\n})();\n\n(function() {\r\n  angular\r\n    .module('fitforlife')\r\n    .directive('navigation', navigation);\r\n\r\n  function navigation() {\r\n    return {\r\n      restrict: 'EA',\r\n      templateUrl: '/views/_navigation/navigation.template.html',\r\n      controller: 'navigationCtrl as navvm'\r\n    };\r\n  }\r\n})();\r\n"],"sourceRoot":"/source/"}