function config(e,t,o){o.setOptions({delay:2e3,startTop:20,startRight:10,verticalSpacing:20,horizontalSpacing:20,positionX:"right",positionY:"bottom"}),e.when("/register",{templateUrl:"views/_auth/register.view.html",controller:"registerCtrl",controllerAs:"vm"}).when("/login",{templateUrl:"views/_auth/login.view.html",controller:"loginCtrl",controllerAs:"vm"}).when("/home",{templateUrl:"views/_home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/feeds",{templateUrl:"views/_feeds/feeds.view.html",controller:"feedsCtrl",controllerAs:"vm"}).when("/profile",{templateUrl:"views/_profile/profile.view.html",controller:"profileCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/home"}),t.html5Mode(!0)}function run(e,t,o,n){e.$on("$routeChangeStart",function(e,o,i){console.log("redirect to: "+t.path()),n.isLoggedIn()||"/login"!=t.path()&&"/register"!=t.path()&&"/"!=t.path()&&t.path("/")})}angular.module("fitforlife",["ngRoute","ngAnimate","ngSanitize","ngTouch","ui.bootstrap","ngMessages","angular-ladda","ui-notification","ngStorage"]),angular.module("fitforlife").config(["$routeProvider","$locationProvider","NotificationProvider",config]).run(["$rootScope","$location","$timeout","authService",run]),$.validator.setDefaults({highlight:function(e){$(e).closest(".form-group").removeClass("has-success").addClass("has-error")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-error").addClass("has-success")},errorClass:"error",errorPlacement:function(e,t){t.parent(".input-group").length?e.insertAfter(t.parent()):e.insertAfter($(t).parent().find(".form-control-feedback"))}}),function(){function e(){}angular.module("fitforlife").controller("feedsCtrl",e)}(),function(){function e(e,t,o,n,i){var r=this;r.user={_name:"",_email:"",_password:"",_confirm_password:""},$("#registration").validate({rules:{email:{required:!0,email:!0,maxlength:100},name:{required:!0,minlength:2,maxlength:40},password:{required:!0,minlength:8,maxlength:25},confirm_password:{required:!0,minlength:8,maxlength:25,equalTo:"#password"}}}),r.loading=!1,r.register=function(){$("#registration").valid()&&(r.loading=!0,n.register(r.user).then(function(e){console.log(e),i.success({message:e.data.message,title:e.statusText});var n=o.open({animation:!0,backdrop:"static",keyboard:!1,templateUrl:"/views/_prompts/dialog.view.html",controller:"dialogCtrl as vmd",size:"sm",resolve:{info:function(){return{_title:"Awesome...",_message:"You registered successfully. Please login to get access.",_confirm_label:"Let's Start!"}}}});n.result.then(function(e){t.path("login")},function(){})})["catch"](function(e){console.log(e),i.error({message:e.data.message,title:e.statusText})})["finally"](function(){r.loading=!1}))}}angular.module("fitforlife").controller("profileCtrl",e),e.$inject=["$scope","$location","$uibModal","authService","Notification"]}(),function(){function e(e,t,o){console.log(o);var n=this;n.info=o?o:{},n.close=function(e){t.close(e)}}angular.module("fitforlife").controller("dialogCtrl",e),e.$inject=["$uibModal","$uibModalInstance","info"]}(),function(){function e(){}angular.module("fitforlife").controller("homeCtrl",e)}(),function(){function e(e,t,o){var n=function(t){return e.post("/api/register",t)},i=function(t){return e.post("/api/login",t)},r=function(e){o.fitforlife_token=e},l=function(){return o.fitforlife_token},a=function(){var e,o=l();return!!o&&(e=o.split(".")[1],e=t.atob(e),e=JSON.parse(e),e.exp>Date.now()/1e3)},s=function(){if(a()){var e=l(),o=e.split(".")[1];return o=t.atob(o),o=JSON.parse(o),{_email:o._email,_name:o._name}}};return logout=function(){o.fitforlife_token=null},{register:n,login:i,saveToken:r,getToken:l,isLoggedIn:a,currentUser:s,logout:logout}}angular.module("fitforlife").service("authService",e),e.$inject=["$http","$window","$localStorage"]}(),function(){function e(e,t,o,n,i,r){var l=this;l.user={_email:"",_password:""},$("#login").validate({rules:{email:{required:!0,email:!0,maxlength:100},password:{required:!0,minlength:8,maxlength:25}}}),l.loading=!1,l.login=function(){$("#login").valid()&&(l.loading=!0,i.login(l.user).then(function(e){r.success({message:e.data.message,title:e.statusText}),i.saveToken(e.data.token),n(function(){t.path("feed")},500)})["catch"](function(e){r.error({message:e.data.message,title:e.statusText})})["finally"](function(){l.loading=!1}))}}angular.module("fitforlife").controller("loginCtrl",e),e.$inject=["$scope","$location","$localStorage","$timeout","authService","Notification"]}(),function(){function e(e,t,o,n,i){var r=this;r.user={_name:"",_email:"",_password:"",_confirm_password:""},$("#registration").validate({rules:{email:{required:!0,email:!0,maxlength:100},name:{required:!0,minlength:2,maxlength:40},password:{required:!0,minlength:8,maxlength:25},confirm_password:{required:!0,minlength:8,maxlength:25,equalTo:"#password"}}}),r.loading=!1,r.register=function(){$("#registration").valid()&&(r.loading=!0,n.register(r.user).then(function(e){console.log(e),i.success({message:e.data.message,title:e.statusText});var n=o.open({animation:!0,backdrop:"static",keyboard:!1,templateUrl:"/views/_prompts/dialog.view.html",controller:"dialogCtrl as vmd",size:"sm",resolve:{info:function(){return{_title:"Awesome...",_message:"You registered successfully. Please login to get access.",_confirm_label:"Let's Start!"}}}});n.result.then(function(e){t.path("login")},function(){})})["catch"](function(e){console.log(e),i.error({message:e.data.message,title:e.statusText})})["finally"](function(){r.loading=!1}))}}angular.module("fitforlife").controller("registerCtrl",e),e.$inject=["$scope","$location","$uibModal","authService","Notification"]}(),function(){function e(e,t){var o=this;o.checkLogin=function(){return t.isLoggedIn()},o.logout=function(){t.logout(),e.path("login")},o.currentUser=t.currentUser()}angular.module("fitforlife").controller("navigationCtrl",e),e.$inject=["$location","authService"]}(),function(){function e(){return{restrict:"EA",templateUrl:"/views/_navigation/navigation.template.html",controller:"navigationCtrl as navvm"}}angular.module("fitforlife").directive("navigation",e)}();
//# sourceMappingURL=app.min.js.map
